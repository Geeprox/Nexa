# PRD V1: 标签与视图 (Project)

## 背景
用户希望用轻量的方式组织对话与笔记，不希望引入 Workspace/Project 的多级结构。通过标签和视图即可完成主题管理与聚合。

## 目标
- Conversation 与 Note 是一等公民，完全对等。
- 用户可对任意内容手动打多个标签。
- 系统可通过 LLM 自动打标签 (用户可见，样式与手动标签区分)。
- 视图能力 V1 不实现，但需在架构上预留“自然语言视图/智能聚合”。 

## 非目标
- Workspace 概念。
- 视图/Project 功能 (V1 不实现)。
- 拆分/合并/克隆 (V1 不实现)。
- 多人协作与云端同步。

## 用户故事
- 我希望把同一个对话标记为“论文/对比/灵感”，之后通过标签快速聚合。
- 我希望系统自动帮我补充标签，但要清晰标注为“系统标签”。
- 未来我希望用自然语言定义“视图/Project”，系统自动完成聚合。

## 功能需求 (V1)
- 标签管理: 创建/重命名/删除标签。
- 标签应用: 对 Conversation/Note 添加或移除标签 (多选)。
- 自动标签: 后台任务生成系统标签并可被用户查看与移除 (仅删除，不转换)。

## 未来扩展需求
- 视图/Project: 基于标签组合创建视图。
- 视图规则: 基础 AND/OR 组合逻辑。
- 自然语言视图: LLM 将自然语言规则映射为结构化过滤逻辑。
 - 视图需保存用户原始自然语言输入。

## 交互流程 (V1)
- 选中对话或笔记 -> 标签选择器 -> 保存。

## 数据需求
- 标签与标签关系的持久化。
- 手动/系统标签的来源区分。
- 预留视图过滤规则的存储结构。
 - 预留存储自然语言规则文本。

## 成功指标
- 标签写入 < 500ms。

## 风险
- 自动标签准确性与可解释性。
- 自然语言视图的规则稳定性。

## 未决问题
- 自然语言视图的规则如何持久化与解释。
- 自动标签的默认阈值与频率。
